apiVersion: v1
kind: Agent
metadata:
  name: medassist-agent
  displayName: "MedAssist Healthcare AI"
  description: "Multi-agent healthcare assistant with triage, medication safety, and monitoring"
spec:
  agentType: "CONVERSATIONAL"
  defaultLanguageCode: "en"
  timeZone: "UTC"
  
  llmConfig:
    model: "gemini-2.5-flash"
    temperature: 0.1
    maxOutputTokens: 1000
    
  tools:
    - name: "triage_tool"
      displayName: "Medical Triage"
      description: "Analyze symptoms and provide triage recommendations"
      openApiSpec:
        url: "http://localhost:8000/openapi.json"
        
    - name: "medication_tool"
      displayName: "Medication Safety"
      description: "Check drug interactions and safety"
      openApiSpec:
        url: "http://localhost:8000/openapi.json"
        
  safetySettings:
    - category: "HARM_CATEGORY_MEDICAL"
      threshold: "BLOCK_ONLY_HIGH"
    - category: "HARM_CATEGORY_DANGEROUS_CONTENT"
      threshold: "BLOCK_MEDIUM_AND_ABOVE"
      
  systemInstruction: |
    You are MedAssist, a professional healthcare AI assistant. You help users with:
    1. Medical symptom triage and recommendations
    2. Medication safety and interaction checking
    3. Health monitoring and reminders
    
    Always prioritize safety and recommend professional medical care when appropriate.
    Use the available tools to provide accurate, evidence-based responses.
    
  memoryConfig:
    retentionDays: 30
    maxConversationLength: 100